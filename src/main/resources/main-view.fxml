<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.backup.MainController"
      spacing="20" alignment="CENTER_LEFT"
      style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef);"
      prefWidth="850" prefHeight="700">
    
    <padding>
        <Insets top="30" right="30" bottom="30" left="30"/>
    </padding>
    
    <Label text="æ–‡ä»¶å¤‡ä»½è½¯ä»¶" 
           style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"
           alignment="CENTER" textAlignment="CENTER"
           maxWidth="Infinity">
        <VBox.margin>
            <Insets bottom="10"/>
        </VBox.margin>
    </Label>
    
    <Label text="å®‰å…¨å¯é çš„æ•°æ®å¤‡ä»½å·¥å…·" 
           style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;"
           alignment="CENTER" textAlignment="CENTER"
           maxWidth="Infinity">
        <VBox.margin>
            <Insets bottom="20"/>
        </VBox.margin>
    </Label>
    
    <Separator maxWidth="Infinity" style="-fx-background-color: #bdc3c7;">
        <VBox.margin>
            <Insets bottom="20"/>
        </VBox.margin>
    </Separator>
    
    <VBox spacing="12">
        <Label text="ðŸ“ æºè·¯å¾„ï¼ˆè¦å¤‡ä»½çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼‰" 
               style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
        <ListView fx:id="sourceListView" prefHeight="150" 
                  style="-fx-background-color: white; -fx-background-radius: 8; -fx-border-color: #ddd; -fx-border-radius: 8;"/>
        <HBox spacing="12">
            <Button fx:id="addFolderButton" text="ðŸ“ æ·»åŠ æ–‡ä»¶å¤¹" onAction="#handleAddFolder"
                    style="-fx-min-width: 130px; -fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6;"/>
            <Button fx:id="addFileButton" text="ðŸ“„ æ·»åŠ æ–‡ä»¶" onAction="#handleAddFile"
                    style="-fx-min-width: 130px; -fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6;"/>
            <Button fx:id="removeSourceButton" text="âž– åˆ é™¤é€‰ä¸­" onAction="#handleRemoveSource"
                    style="-fx-min-width: 130px; -fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6;"/>
        </HBox>
    </VBox>
    
    <VBox spacing="12">
        <Label text="ðŸŽ¯ ç›®æ ‡ç›®å½•ï¼ˆå¤‡ä»½åˆ°å“ªé‡Œï¼‰" 
               style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
        <HBox spacing="12">
            <TextField fx:id="targetField" promptText="é€‰æ‹©å¤‡ä»½ç›®æ ‡ç›®å½•..." HBox.hgrow="ALWAYS"
                       style="-fx-background-radius: 6; -fx-border-color: #ddd; -fx-border-radius: 6; -fx-padding: 10; -fx-font-size: 14px;"/>
            <Button fx:id="targetButton" text="ðŸ“‚ æµè§ˆ" onAction="#handleSelectTarget"
                    style="-fx-min-width: 100px; -fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6;"/>
        </HBox>
    </VBox>
    
    <Separator maxWidth="Infinity" style="-fx-background-color: #bdc3c7;">
        <VBox.margin>
            <Insets top="10" bottom="10"/>
        </VBox.margin>
    </Separator>
    
    <Button fx:id="backupButton" text="ðŸš€ å¼€å§‹å¤‡ä»½" onAction="#handleBackup"
            style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white; 
                   -fx-background-color: linear-gradient(to right, #27ae60, #2ecc71); 
                   -fx-min-height: 50px; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(46, 204, 113, 0.5), 10, 0, 0, 3);"
            alignment="CENTER"
            maxWidth="Infinity">
        <VBox.margin>
            <Insets top="10" bottom="10"/>
        </VBox.margin>
    </Button>
    
    <ProgressBar fx:id="progressBar" maxWidth="Infinity" visible="false"
                 style="-fx-accent: #3498db;">
        <VBox.margin>
            <Insets top="10" bottom="10"/>
        </VBox.margin>
    </ProgressBar>
    
    <Label fx:id="statusLabel" text="" 
           style="-fx-font-size: 14px; -fx-font-style: italic; -fx-text-fill: #7f8c8d;" 
           alignment="CENTER" maxWidth="Infinity">
        <VBox.margin>
            <Insets top="5" bottom="5"/>
        </VBox.margin>
    </Label>
    
    <VBox fx:id="resultBox" spacing="15" 
          style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5);"
          visible="false" maxWidth="Infinity">
        <Label text="ðŸ“Š å¤‡ä»½ç»“æžœ" 
               style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-text-fill: #2c3e50;"/>
        <Separator maxWidth="Infinity" style="-fx-background-color: #ecf0f1;"/>
        <VBox spacing="10">
            <Label fx:id="filesCopiedLabel" text="æ–‡ä»¶å¤åˆ¶: 0" 
                   style="-fx-font-size: 14px; -fx-text-fill: #34495e;"/>
            <Label fx:id="directoriesCreatedLabel" text="ç›®å½•åˆ›å»º: 0" 
                   style="-fx-font-size: 14px; -fx-text-fill: #34495e;"/>
            <Label fx:id="totalSizeLabel" text="æ€»å¤§å°: 0 B" 
                   style="-fx-font-size: 14px; -fx-text-fill: #34495e;"/>
        </VBox>
    </VBox>
    
</VBox>
